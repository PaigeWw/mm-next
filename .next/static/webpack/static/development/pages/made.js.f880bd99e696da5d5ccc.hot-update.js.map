{"version":3,"file":"static/webpack/static/development/pages/made.js.f880bd99e696da5d5ccc.hot-update.js","sources":["webpack:///./pages/made.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Flex, Text, Box, Image, Button } from \"rebass\"\nimport Head from \"../components/nav\"\nimport EditBox from \"../components/made-edit-box\"\nimport BigBox from \"../components/made-big-box\"\nimport StyleItem from \"../components/made-style-item\"\nimport { getPageQuery } from \"../utils/helper\"\nimport Router from \"next/router\"\nimport request from \"../utils/request.js\"\n// import SelectAssignTool from \"../components/select-assign-tool\"\nexport default () => {\n\tconst [styleDetails, setStyleDetails] = useState([])\n\tconst [showBigBox, setShowBigBox] = useState(false)\n\tconst [showEditBox, setShowEditBox] = useState(false)\n\tconst [curItemIndex, setCurItemIndex] = useState(0)\n\tconst [styleInitData, setStyleInitData] = useState([[], [], [], [], [], []])\n\tconst boxNos = [0, 1, 2, 3, 4, 5]\n\tuseEffect(() => {\n\t\tconst getStyleDetails = async () => {\n\t\t\tlet query = getPageQuery()\n\t\t\tconsole.log(query)\n\t\t\tlet reqList = []\n\t\t\tconst req = await request(\"style/detail\", { _id: query.id }, \"get\")\n\t\t\treqList.push(req)\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tstyleInitData[i].push({ imgUrl: req.imgUrl, value: false })\n\t\t\t}\n\t\t\tif (query.id1) {\n\t\t\t\tconst req1 = await request(\"style/detail\", { _id: query.id1 }, \"get\")\n\t\t\t\treqList.push(req1)\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\tstyleInitData[i].push({ imgUrl: req1.imgUrl, value: false })\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetStyleInitData([].concat(styleInitData))\n\t\t\tsetStyleDetails(reqList)\n\t\t}\n\t\tgetStyleDetails()\n\t}, [])\n\n\tconst handleConfirmMade = async colorIds => {\n\t\tconsole.log(colorIds)\n\t\tif (!colorIds[0]) return\n\t\tlet params = [\n\t\t\t{\n\t\t\t\tstyleId: styleDetails[0]._id,\n\t\t\t\tcolorId: colorIds[0]\n\t\t\t}\n\t\t]\n\t\tif (styleDetails.length > 1) {\n\t\t\tif (!colorIds[1]) return\n\t\t\tparams.push({\n\t\t\t\tstyleId: styleDetails[1]._id,\n\t\t\t\tcolorId: colorId[1]\n\t\t\t})\n\t\t}\n\n\t\tstyleInitData[curItemIndex] = [\n\t\t\t{ colorId: colorIds[0], imgUrl: \"\" },\n\t\t\t{ colorId: colorIds[1], imgUrl: \"\" }\n\t\t]\n\t\tsetStyleInitData([].concat(styleInitData))\n\t\tconst res = await request(\n\t\t\t\"/user/addFavorite\",\n\t\t\t{ styleAndColor: params },\n\t\t\t\"post\"\n\t\t)\n\t\tconsole.log(res)\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Flex flexDirection=\"column\">\n\t\t\t\t<Head></Head>\n\t\t\t\t<Flex flexDirection=\"column\">\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tjustifyContent=\"space-around\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tfontSize=\"0.23px\"\n\t\t\t\t\t\tbg=\"#000\"\n\t\t\t\t\t\tcolor=\"#fff\"\n\t\t\t\t\t\twidth=\"19.2rem\"\n\t\t\t\t\t\theight=\"1.12rem\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text>TOPS</Text>\n\t\t\t\t\t\t<Text>BOTTOMS</Text>\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex flexWrap=\"wrap\">\n\t\t\t\t\t\t{styleInitData.map((style, index) => (\n\t\t\t\t\t\t\t<StyleItem\n\t\t\t\t\t\t\t\tkey={`${index}-style`}\n\t\t\t\t\t\t\t\tstyleList={style}\n\t\t\t\t\t\t\t\topenBigBox={() => {\n\t\t\t\t\t\t\t\t\tsetShowBigBox(true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\topenEditBox={() => {\n\t\t\t\t\t\t\t\t\tsetShowEditBox(true)\n\t\t\t\t\t\t\t\t\tsetCurItemIndex(index)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex fontSize=\"0.27rem\" color=\"#fff\" justifyContent=\"\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\theight=\"1.13rem\"\n\t\t\t\t\t\t\twidth=\"9.6rem\"\n\t\t\t\t\t\t\tbg=\"#000\"\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tpadding=\"0\"\n\t\t\t\t\t\t\theight=\"1.13rem\"\n\t\t\t\t\t\t\twidth=\"9.6rem\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tRouter.back()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\"< RETURN\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\theight=\"1.13rem\"\n\t\t\t\t\t\t\twidth=\"9.6rem\"\n\t\t\t\t\t\t\tbg=\"#FF8E6C\"\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tpadding=\"0\"\n\t\t\t\t\t\t\theight=\"1.13rem\"\n\t\t\t\t\t\t\twidth=\"9.6rem\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tRouter.push(\"/mine\")\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCOMPLETE\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Flex>\n\t\t\t\t{showBigBox ? (\n\t\t\t\t\t<BigBox\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tsetShowBigBox(false)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{showEditBox ? (\n\t\t\t\t\t<EditBox\n\t\t\t\t\t\tstyleDetails={styleDetails}\n\t\t\t\t\t\tcurStyle={styleInitData[curItemIndex]}\n\t\t\t\t\t\tconfirmMade={handleConfirmMade}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tsetShowEditBox(false)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</Flex>\n\t\t</>\n\t)\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAIA;AAAA;AACA;AALA;AAIA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAUA;AAAA;AACA;AAXA;AAUA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAfA;AAgBA;AACA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAkBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AAEA;AACA;AAFA;AACA;AALA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAWA;AACA;AACA;AAFA;AACA;AAZA;AAiBA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AArBA;AAAA;AAwBA;AAAA;AACA;AAzBA;AAsBA;AAKA;AACA;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AA4BA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AAFA;AAKA;AACA;AAdA;AAAA;AAAA;AAmBA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AAFA;AAKA;AACA;AAdA;AAAA;AAAA;AAsBA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;;;;A","sourceRoot":""}