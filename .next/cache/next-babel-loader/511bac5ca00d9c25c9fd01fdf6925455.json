{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/paige/Desktop/workspace/mm-next/components/tables/send-table.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { Flex, Text, Box, Button, Row, Column } from \"rebass\";\nimport Table, { TableLine } from \"./base-table\";\nimport ShowStyle from \"../show-style\";\nimport request from \"../../utils/request\";\nexport default (function (props) {\n  var _useState = useState([]),\n      orderList = _useState[0],\n      setOrderList = _useState[1];\n\n  var _useState2 = useState([]),\n      orderDetailList = _useState2[0],\n      setOrderDetailList = _useState2[1];\n\n  var _useState3 = useState([]),\n      selectList = _useState3[0],\n      setSelectList = _useState3[1];\n\n  var getOrderList =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(\"/order/getMyList\");\n\n            case 2:\n              res = _context.sent;\n\n              if (res) {\n                _context.next = 5;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 5:\n              setOrderDetailList(res);\n              data = res.map(function (order) {\n                var orderData = order.orderData;\n                var threeViewsList = [];\n                var quantity = 0;\n                var price = 0;\n                orderData.map(function (item) {\n                  var threeViews = item.favorite.styleAndColor.map(function (x) {\n                    return {\n                      POSITIVE: x.front\n                    };\n                  });\n                  quantity += item.total;\n                  price += item.totalPrice;\n                  threeViewsList.push(threeViews);\n                });\n                return {\n                  quantity: quantity,\n                  price: price,\n                  threeViewsList: threeViewsList,\n                  date: order.updateTime\n                };\n              });\n              setOrderList(data);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getOrderList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getOrderList();\n  }, []);\n  return __jsx(Flex, {\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"stretch\",\n    height: \"100%\",\n    sx: {\n      cursor: \"pointer\",\n      background: \"#FFF0E5\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(Table, {\n    titles: [{\n      name: \"00\",\n      width: \"2/22\",\n      isHide: true\n    }, {\n      name: \"DATE\",\n      width: \"2/22\"\n    }, {\n      name: \"STYLE PREVIEW\",\n      width: \"2/22\"\n    }, {\n      name: \"QUANTITY\",\n      width: \"4/22\"\n    }, {\n      name: \"PRICE\",\n      width: \"1/22\"\n    }, {\n      name: \"ACTION\",\n      width: \"5/22\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, orderList.map(function (order, index) {\n    return __jsx(TableLine, {\n      key: \"order-\".concat(index),\n      isSelect: selectList.findIndex(function (x) {\n        return index === x.index;\n      }) >= 0,\n      haveSelect: true,\n      onSelect: function onSelect() {\n        handleSelect(index, collect);\n      },\n      haveDel: true,\n      onDel: function onDel() {\n        handleDel(index, collect);\n      },\n      haveEdit: true,\n      onEdit: function onEdit() {\n        setEditIndex(index);\n        setShowEditBox(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, __jsx(Text, {\n      style: {\n        position: \"absolute\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, index + 1), __jsx(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, order.date), __jsx(Flex, {\n      justifyContent: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, order.threeViewsList.map(function (item, index1) {\n      return __jsx(ShowStyle, {\n        key: \"order-\".concat(index, \"-\").concat(index1),\n        imgWidth: \"0.95rem\",\n        mode: \"POSITIVE\",\n        threeViews: item,\n        border: \"none\",\n        hideInfo: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      });\n    })), __jsx(Text, {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, order.quantity), __jsx(Text, {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, order.price));\n  })), __jsx(Flex, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"primary\",\n    height: \"1.13rem\",\n    width: \"9.6rem\",\n    bg: \"#000\",\n    color: \"#fff\",\n    padding: \"0\",\n    sx: {\n      borderRadius: 0,\n      fontSize: \"0.27rem\",\n      cursor: \"pointer\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"GENERATE ORDERS\"), __jsx(Button, {\n    variant: \"primary\",\n    height: \"1.13rem\",\n    width: \"9.6rem\",\n    bg: \"#000\",\n    color: \"#fff\",\n    padding: \"0\",\n    sx: {\n      borderRadius: 0,\n      fontSize: \"0.27rem\",\n      cursor: \"pointer\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"GENERATE ORDERS\")));\n});","map":{"version":3,"sources":["/Users/paige/Desktop/workspace/mm-next/components/tables/send-table.js"],"names":["React","useEffect","useState","Flex","Text","Box","Button","Row","Column","Table","TableLine","ShowStyle","request","props","orderList","setOrderList","orderDetailList","setOrderDetailList","selectList","setSelectList","getOrderList","res","data","map","order","orderData","threeViewsList","quantity","price","item","threeViews","favorite","styleAndColor","x","POSITIVE","front","total","totalPrice","push","date","updateTime","cursor","background","name","width","isHide","index","findIndex","handleSelect","collect","handleDel","setEditIndex","setShowEditBox","position","index1","borderRadius","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Flex, Text, Box, Button, Row, Column } from \"rebass\"\nimport Table, { TableLine } from \"./base-table\"\nimport ShowStyle from \"../show-style\"\nimport request from \"../../utils/request\"\n\nexport default props => {\n\tconst [orderList, setOrderList] = useState([])\n\tconst [orderDetailList, setOrderDetailList] = useState([])\n\tconst [selectList, setSelectList] = useState([])\n\tconst getOrderList = async () => {\n\t\tconst res = await request(\"/order/getMyList\")\n\t\t// console.log(\"----res----\", res)\n\t\tif (!res) return\n\t\tsetOrderDetailList(res)\n\t\tconst data = res.map(order => {\n\t\t\tlet orderData = order.orderData\n\t\t\tlet threeViewsList = []\n\t\t\tlet quantity = 0\n\t\t\tlet price = 0\n\t\t\torderData.map(item => {\n\t\t\t\tlet threeViews = item.favorite.styleAndColor.map(x => {\n\t\t\t\t\treturn { POSITIVE: x.front }\n\t\t\t\t})\n\t\t\t\tquantity += item.total\n\t\t\t\tprice += item.totalPrice\n\t\t\t\tthreeViewsList.push(threeViews)\n\t\t\t})\n\n\t\t\treturn {\n\t\t\t\tquantity,\n\t\t\t\tprice,\n\t\t\t\tthreeViewsList,\n\t\t\t\tdate: order.updateTime\n\t\t\t}\n\t\t})\n\t\tsetOrderList(data)\n\t}\n\tuseEffect(() => {\n\t\tgetOrderList()\n\t}, [])\n\treturn (\n\t\t<Flex\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\talignItems=\"stretch\"\n\t\t\theight=\"100%\"\n\t\t\tsx={{\n\t\t\t\tcursor: \"pointer\",\n\t\t\t\tbackground: \"#FFF0E5\"\n\t\t\t}}\n\t\t>\n\t\t\t<Table\n\t\t\t\ttitles={[\n\t\t\t\t\t{ name: \"00\", width: \"2/22\", isHide: true },\n\t\t\t\t\t{ name: \"DATE\", width: \"2/22\" },\n\t\t\t\t\t{ name: \"STYLE PREVIEW\", width: \"2/22\" },\n\t\t\t\t\t{ name: \"QUANTITY\", width: \"4/22\" },\n\t\t\t\t\t{ name: \"PRICE\", width: \"1/22\" },\n\t\t\t\t\t{ name: \"ACTION\", width: \"5/22\" }\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t{orderList.map((order, index) => (\n\t\t\t\t\t<TableLine\n\t\t\t\t\t\tkey={`order-${index}`}\n\t\t\t\t\t\tisSelect={selectList.findIndex(x => index === x.index) >= 0}\n\t\t\t\t\t\thaveSelect\n\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\thandleSelect(index, collect)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thaveDel\n\t\t\t\t\t\tonDel={() => {\n\t\t\t\t\t\t\thandleDel(index, collect)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thaveEdit\n\t\t\t\t\t\tonEdit={() => {\n\t\t\t\t\t\t\tsetEditIndex(index)\n\t\t\t\t\t\t\tsetShowEditBox(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text style={{ position: \"absolute\" }}>{index + 1}</Text>\n\t\t\t\t\t\t<Text>{order.date}</Text>\n\t\t\t\t\t\t<Flex justifyContent=\"center\">\n\t\t\t\t\t\t\t{order.threeViewsList.map((item, index1) => (\n\t\t\t\t\t\t\t\t<ShowStyle\n\t\t\t\t\t\t\t\t\tkey={`order-${index}-${index1}`}\n\t\t\t\t\t\t\t\t\timgWidth=\"0.95rem\"\n\t\t\t\t\t\t\t\t\tmode={\"POSITIVE\"}\n\t\t\t\t\t\t\t\t\tthreeViews={item}\n\t\t\t\t\t\t\t\t\tborder=\"none\"\n\t\t\t\t\t\t\t\t\thideInfo\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t<Text textAlign=\"center\">{order.quantity}</Text>\n\t\t\t\t\t\t<Text textAlign=\"center\">{order.price}</Text>\n\t\t\t\t\t</TableLine>\n\t\t\t\t))}\n\t\t\t</Table>\n\t\t\t<Flex>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\theight=\"1.13rem\"\n\t\t\t\t\twidth=\"9.6rem\"\n\t\t\t\t\tbg=\"#000\"\n\t\t\t\t\tcolor=\"#fff\"\n\t\t\t\t\tpadding=\"0\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\tfontSize: \"0.27rem\",\n\t\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGENERATE ORDERS\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\theight=\"1.13rem\"\n\t\t\t\t\twidth=\"9.6rem\"\n\t\t\t\t\tbg=\"#000\"\n\t\t\t\t\tcolor=\"#fff\"\n\t\t\t\t\tpadding=\"0\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\tfontSize: \"0.27rem\",\n\t\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGENERATE ORDERS\n\t\t\t\t</Button>\n\t\t\t</Flex>\n\t\t</Flex>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}