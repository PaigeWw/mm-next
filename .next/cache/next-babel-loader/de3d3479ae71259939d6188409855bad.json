{"ast":null,"code":"import React, { useState, useEffect } from \"react\";\nimport request from \"../utils/request\";\nimport Router from \"next/router\";\n\nfunction useUserInfo() {\n  const {\n    0: info,\n    1: setInfo\n  } = useState({});\n  useEffect(() => {\n    ;\n\n    (async function getData() {\n      const data = await request(\"user/getCurrentUser\");\n      console.log(data, \"data\");\n\n      if (data) {\n        setInfo(data);\n      } else {\n        Router.push(\"/login\");\n      }\n    })();\n  }, []);\n  return info;\n}\n\nexport default useUserInfo;","map":{"version":3,"sources":["/Users/paige/Desktop/workspace/mm-next/hooks/getUserInfo.js"],"names":["React","useState","useEffect","request","Router","useUserInfo","info","setInfo","getData","data","console","log","push"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,SAASC,WAAT,GAAuB;AACtB,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBN,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACf;;AAAC,KAAC,eAAeM,OAAf,GAAyB;AAC1B,YAAMC,IAAI,GAAG,MAAMN,OAAO,CAAC,qBAAD,CAA1B;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAkB,MAAlB;;AACA,UAAIA,IAAJ,EAAU;AACTF,QAAAA,OAAO,CAACE,IAAD,CAAP;AACA,OAFD,MAEO;AACNL,QAAAA,MAAM,CAACQ,IAAP,CAAY,QAAZ;AACA;AACD,KARA;AASD,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAON,IAAP;AACA;;AAED,eAAeD,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport request from \"../utils/request\"\nimport Router from \"next/router\"\n\nfunction useUserInfo() {\n\tconst [info, setInfo] = useState({})\n\n\tuseEffect(() => {\n\t\t;(async function getData() {\n\t\t\tconst data = await request(\"user/getCurrentUser\")\n\t\t\tconsole.log(data, \"data\")\n\t\t\tif (data) {\n\t\t\t\tsetInfo(data)\n\t\t\t} else {\n\t\t\t\tRouter.push(\"/login\")\n\t\t\t}\n\t\t})()\n\t}, [])\n\n\treturn info\n}\n\nexport default useUserInfo\n"]},"metadata":{},"sourceType":"module"}