{"ast":null,"code":"var _jsxFileName = \"/Users/paige/Desktop/workspace/mm-next/components/commons/style-img.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useMemo } from \"react\";\nimport { ReactSVG } from \"react-svg\";\nimport { Image } from \"rebass\";\nimport { baseUrl } from \"../../utils/helper\"; // import React, { useEffect, useMemo } from 'react';\n// import { ReactSVG } from 'react-svg';\n// // import { Image } from 'rebass';\n// import { api } from '@/utils/apiconfig';\n\nexport default (props => {\n  const {\n    width,\n    svgUrl,\n    shadowUrl,\n    key,\n    colors,\n    svgId,\n    styleId,\n    imgVals,\n    onSetEditSvgGroupIndex\n  } = props;\n  return __jsx(\"div\", {\n    style: {\n      position: \"relative\",\n      width: width\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: `${baseUrl}${shadowUrl}`,\n    style: {\n      width: width,\n      position: \"absolute\",\n      left: 0,\n      pointerEvents: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), __jsx(ReactSVG, {\n    style: {\n      width: width,\n      minWidth: \"14px\"\n    },\n    afterInjection: (error, svg) => {\n      if (error) {\n        console.error(error);\n        return;\n      }\n\n      if (colors && colors.length > 0) {\n        let j = 0;\n\n        for (let i = 0; i < svg.children.length; i++) {\n          if (svg.children[i].tagName === \"g\" || svg.children[i].tagName === \"path\") {\n            if (onSetEditSvgGroupIndex) {\n              let jj = j;\n\n              svg.children[i].onclick = e => {\n                // console.log(e.target)\n                onSetEditSvgGroupIndex(jj);\n              };\n            } // svg.children[i].setAttribute('index', j);\n\n\n            if (j < colors.length && colors[j]) {\n              svg.children[i].style.fill = colors[j].type ? `url(\"#${styleId}-${colors[j]._id}-${j}\")` : colors[j].value;\n            }\n\n            j++;\n          }\n        }\n      }\n    },\n    renumerateIRIElements: false,\n    loading: () => {\n      console.log(\"loading\");\n      return \"loading\";\n    },\n    beforeInjection: svg => {\n      svg.setAttribute(\"id\", svgId || key);\n      let svgDefs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n      svg.appendChild(svgDefs);\n      svg.setAttribute(\"style\", `width: ${width}; height: 100%`);\n\n      for (let i = 0; i < colors.length; i++) {\n        let color = colors[i];\n\n        if (color && color.type) {\n          console.log(\"imgVals\", imgVals);\n          let svgPattern = document.createElementNS(\"http://www.w3.org/2000/svg\", \"pattern\");\n          svgPattern.setAttribute(\"id\", `${styleId}-${color._id}-${i}`); // editPatterns[color._id] = svgPattern\n\n          svgPattern.setAttribute(\"patternUnits\", \"userSpaceOnUse\");\n          svgPattern.setAttribute(\"patternContentUnits\", \"userSpaceOnUse\");\n\n          if (svg.width.baseVal.unitType === 2) {\n            svg.setAttribute(\"width\", `${svg.viewBox.baseVal.width}px`);\n          }\n\n          let W = color.size * svg.width.baseVal.value / 20 * imgVals.scale;\n          let H = W * color.height / color.width;\n          svgPattern.setAttribute(\"width\", `${W}px`);\n          svgPattern.setAttribute(\"height\", `${H}px`);\n          svgPattern.x.baseVal.value = imgVals.x;\n          svgPattern.y.baseVal.value = imgVals.y;\n          let svgPatternImage = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\");\n          svgPatternImage.setAttribute(\"width\", `${W}px`);\n          svgPatternImage.setAttribute(\"height\", `${H}px`);\n          svgPatternImage.href.baseVal = `${baseUrl}${color.value}`; // editSvgs.svgDefs.appendChild(svgPattern)\n\n          svgPattern.appendChild(svgPatternImage);\n          svgDefs.appendChild(svgPattern);\n        }\n      }\n    },\n    evalScripts: \"always\",\n    src: `${baseUrl}${svgUrl}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }));\n}); // export default props => {\n// \tconst { width, svgUrl, shadowUrl, key, colors, svgId, styleId } = props\n// \tconsole.log(colors)\n// \tlet svgElement = false\n// \tuseEffect(() => {\n// \t\t// if()\n// \t\t// ;`url(${colors[0]._id})`\n// \t}, [])\n// \tuseEffect(() => {\n// \t\t// if()\n// \t\tif (!svgElement || !colors) return\n// \t\tlet j = 0\n// \t\tfor (let i = 0; i < svgElement.children.length; i++) {\n// \t\t\tif (\n// \t\t\t\tsvgElement.children[i].tagName === \"g\" ||\n// \t\t\t\t(svgElement.children[i].tagName === \"path\" && j < colors.length)\n// \t\t\t) {\n// \t\t\t\tsvgElement.children[i].style.fill = colors[i].type\n// \t\t\t\t\t? `url(\"#${styleId}-${colors[j]._id}-${i}\")`\n// \t\t\t\t\t: colors[j].value\n// \t\t\t\tj++\n// \t\t\t}\n// \t\t}\n// \t}, [colors])\n// \treturn (\n// \t\t<div\n// \t\t\tstyle={{\n// \t\t\t\tposition: \"relative\",\n// \t\t\t\twidth: width\n// \t\t\t}}\n// \t\t>\n// \t\t\t<Image\n// \t\t\t\tsrc={baseUrl + shadowUrl}\n// \t\t\t\tsx={{\n// \t\t\t\t\twidth: width,\n// \t\t\t\t\tposition: \"absolute\",\n// \t\t\t\t\tleft: 0\n// \t\t\t\t}}\n// \t\t\t/>\n// \t\t\t<ReactSVG\n// \t\t\t\tstyle={{\n// \t\t\t\t\twidth: width,\n// \t\t\t\t\tminWidth: \"14px\"\n// \t\t\t\t}}\n// \t\t\t\tafterInjection={(error, svg) => {\n// \t\t\t\t\tif (error) {\n// \t\t\t\t\t\tconsole.error(error)\n// \t\t\t\t\t\treturn\n// \t\t\t\t\t}\n// \t\t\t\t\tif (colors && colors.length > 0 && colors[0]) {\n// \t\t\t\t\t\tlet j = 0\n// \t\t\t\t\t\tfor (let i = 0; i < svg.children.length; i++) {\n// \t\t\t\t\t\t\tif (\n// \t\t\t\t\t\t\t\tsvg.children[i].tagName === \"g\" ||\n// \t\t\t\t\t\t\t\tsvg.children[i].tagName === \"path\"\n// \t\t\t\t\t\t\t) {\n// \t\t\t\t\t\t\t\tconsole.log(colors)\n// \t\t\t\t\t\t\t\tsvg.children[i].style.fill = colors[j].type\n// \t\t\t\t\t\t\t\t\t? `url(\"#${styleId}-${colors[j]._id}-${j}\")`\n// \t\t\t\t\t\t\t\t\t: colors[j].value\n// \t\t\t\t\t\t\t\tj++\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t}}\n// \t\t\t\trenumerateIRIElements={false}\n// \t\t\t\tloading={() => {\n// \t\t\t\t\tconsole.log(\"loading\")\n// \t\t\t\t\treturn \"loading\"\n// \t\t\t\t}}\n// \t\t\t\tbeforeInjection={svg => {\n// \t\t\t\t\tsvg.setAttribute(\"id\", svgId || key)\n// \t\t\t\t\tlet svgDefs = document.createElementNS(\n// \t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n// \t\t\t\t\t\t\"defs\"\n// \t\t\t\t\t)\n// \t\t\t\t\tsvg.appendChild(svgDefs)\n// \t\t\t\t\tsvg.setAttribute(\"style\", `width: ${width}; height: 100%`)\n// \t\t\t\t\tfor (let i = 0; i < colors.length; i++) {\n// \t\t\t\t\t\tlet color = colors[i]\n// \t\t\t\t\t\tif (color.type) {\n// \t\t\t\t\t\t\tlet svgPattern = document.createElementNS(\n// \t\t\t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n// \t\t\t\t\t\t\t\t\"pattern\"\n// \t\t\t\t\t\t\t)\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"id\", `${styleId}-${color._id}-${i}`)\n// \t\t\t\t\t\t\t// editPatterns[color._id] = svgPattern\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"patternUnits\", \"userSpaceOnUse\")\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"patternContentUnits\", \"userSpaceOnUse\")\n// \t\t\t\t\t\t\tconst imgVals = { scale: 1 }\n// \t\t\t\t\t\t\tlet W =\n// \t\t\t\t\t\t\t\t((color.size * svg.width.baseVal.value) / 20) * imgVals.scale\n// \t\t\t\t\t\t\tlet H = (W * color.height) / color.width\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"width\", `${W}px`)\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"height\", `${H}px`)\n// \t\t\t\t\t\t\tlet svgPatternImage = document.createElementNS(\n// \t\t\t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n// \t\t\t\t\t\t\t\t\"image\"\n// \t\t\t\t\t\t\t)\n// \t\t\t\t\t\t\tsvgPatternImage.setAttribute(\"width\", `${W}px`)\n// \t\t\t\t\t\t\tsvgPatternImage.setAttribute(\"height\", `${H}px`)\n// \t\t\t\t\t\t\tsvgPatternImage.href.baseVal = `${baseUrl}${color.value}`\n// \t\t\t\t\t\t\t// editSvgs.svgDefs.appendChild(svgPattern)\n// \t\t\t\t\t\t\tsvgPattern.appendChild(svgPatternImage)\n// \t\t\t\t\t\t\tsvgDefs.appendChild(svgPattern)\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t}}\n// \t\t\t\tevalScripts=\"always\"\n// \t\t\t\tsrc={baseUrl + svgUrl}\n// \t\t\t/>\n// \t\t</div>\n// \t)\n// }","map":{"version":3,"sources":["/Users/paige/Desktop/workspace/mm-next/components/commons/style-img.js"],"names":["React","useEffect","useMemo","ReactSVG","Image","baseUrl","props","width","svgUrl","shadowUrl","key","colors","svgId","styleId","imgVals","onSetEditSvgGroupIndex","position","left","pointerEvents","minWidth","error","svg","console","length","j","i","children","tagName","jj","onclick","e","style","fill","type","_id","value","log","setAttribute","svgDefs","document","createElementNS","appendChild","color","svgPattern","baseVal","unitType","viewBox","W","size","scale","H","height","x","y","svgPatternImage","href"],"mappings":"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C,OAAQ,GAAEqC,KAAK,CAACP,KAAM,EAAxD,CA9BwB,CAgCxB;;AACAQ,UAAAA,UAAU,CAACF,WAAX,CAAuBa,eAAvB;AACAhB,UAAAA,OAAO,CAACG,WAAR,CAAoBE,UAApB;AACA;AACD;AACD,KAxFF;AAyFC,IAAA,WAAW,EAAC,QAzFb;AA0FC,IAAA,GAAG,EAAG,GAAEtC,OAAQ,GAAEG,MAAO,EA1F1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfD,CADD;AA8GA,CA3HD,E,CA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useEffect, useMemo } from \"react\"\nimport { ReactSVG } from \"react-svg\"\nimport { Image } from \"rebass\"\nimport { baseUrl } from \"../../utils/helper\"\n\n// import React, { useEffect, useMemo } from 'react';\n// import { ReactSVG } from 'react-svg';\n// // import { Image } from 'rebass';\n\n// import { api } from '@/utils/apiconfig';\n\nexport default props => {\n\tconst {\n\t\twidth,\n\t\tsvgUrl,\n\t\tshadowUrl,\n\t\tkey,\n\t\tcolors,\n\t\tsvgId,\n\t\tstyleId,\n\t\timgVals,\n\t\tonSetEditSvgGroupIndex\n\t} = props\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tposition: \"relative\",\n\t\t\t\twidth: width\n\t\t\t}}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={`${baseUrl}${shadowUrl}`}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: width,\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tpointerEvents: \"none\"\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<ReactSVG\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: width,\n\t\t\t\t\tminWidth: \"14px\"\n\t\t\t\t}}\n\t\t\t\tafterInjection={(error, svg) => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (colors && colors.length > 0) {\n\t\t\t\t\t\tlet j = 0\n\t\t\t\t\t\tfor (let i = 0; i < svg.children.length; i++) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tsvg.children[i].tagName === \"g\" ||\n\t\t\t\t\t\t\t\tsvg.children[i].tagName === \"path\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (onSetEditSvgGroupIndex) {\n\t\t\t\t\t\t\t\t\tlet jj = j\n\t\t\t\t\t\t\t\t\tsvg.children[i].onclick = e => {\n\t\t\t\t\t\t\t\t\t\t// console.log(e.target)\n\t\t\t\t\t\t\t\t\t\tonSetEditSvgGroupIndex(jj)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// svg.children[i].setAttribute('index', j);\n\t\t\t\t\t\t\t\tif (j < colors.length && colors[j]) {\n\t\t\t\t\t\t\t\t\tsvg.children[i].style.fill = colors[j].type\n\t\t\t\t\t\t\t\t\t\t? `url(\"#${styleId}-${colors[j]._id}-${j}\")`\n\t\t\t\t\t\t\t\t\t\t: colors[j].value\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tj++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\trenumerateIRIElements={false}\n\t\t\t\tloading={() => {\n\t\t\t\t\tconsole.log(\"loading\")\n\t\t\t\t\treturn \"loading\"\n\t\t\t\t}}\n\t\t\t\tbeforeInjection={svg => {\n\t\t\t\t\tsvg.setAttribute(\"id\", svgId || key)\n\t\t\t\t\tlet svgDefs = document.createElementNS(\n\t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n\t\t\t\t\t\t\"defs\"\n\t\t\t\t\t)\n\t\t\t\t\tsvg.appendChild(svgDefs)\n\t\t\t\t\tsvg.setAttribute(\"style\", `width: ${width}; height: 100%`)\n\n\t\t\t\t\tfor (let i = 0; i < colors.length; i++) {\n\t\t\t\t\t\tlet color = colors[i]\n\t\t\t\t\t\tif (color && color.type) {\n\t\t\t\t\t\t\tconsole.log(\"imgVals\", imgVals)\n\t\t\t\t\t\t\tlet svgPattern = document.createElementNS(\n\t\t\t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n\t\t\t\t\t\t\t\t\"pattern\"\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tsvgPattern.setAttribute(\"id\", `${styleId}-${color._id}-${i}`)\n\t\t\t\t\t\t\t// editPatterns[color._id] = svgPattern\n\t\t\t\t\t\t\tsvgPattern.setAttribute(\"patternUnits\", \"userSpaceOnUse\")\n\t\t\t\t\t\t\tsvgPattern.setAttribute(\"patternContentUnits\", \"userSpaceOnUse\")\n\t\t\t\t\t\t\tif (svg.width.baseVal.unitType === 2) {\n\t\t\t\t\t\t\t\tsvg.setAttribute(\"width\", `${svg.viewBox.baseVal.width}px`)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet W =\n\t\t\t\t\t\t\t\t((color.size * svg.width.baseVal.value) / 20) * imgVals.scale\n\t\t\t\t\t\t\tlet H = (W * color.height) / color.width\n\n\t\t\t\t\t\t\tsvgPattern.setAttribute(\"width\", `${W}px`)\n\t\t\t\t\t\t\tsvgPattern.setAttribute(\"height\", `${H}px`)\n\t\t\t\t\t\t\tsvgPattern.x.baseVal.value = imgVals.x\n\t\t\t\t\t\t\tsvgPattern.y.baseVal.value = imgVals.y\n\n\t\t\t\t\t\t\tlet svgPatternImage = document.createElementNS(\n\t\t\t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n\t\t\t\t\t\t\t\t\"image\"\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tsvgPatternImage.setAttribute(\"width\", `${W}px`)\n\t\t\t\t\t\t\tsvgPatternImage.setAttribute(\"height\", `${H}px`)\n\t\t\t\t\t\t\tsvgPatternImage.href.baseVal = `${baseUrl}${color.value}`\n\n\t\t\t\t\t\t\t// editSvgs.svgDefs.appendChild(svgPattern)\n\t\t\t\t\t\t\tsvgPattern.appendChild(svgPatternImage)\n\t\t\t\t\t\t\tsvgDefs.appendChild(svgPattern)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tevalScripts=\"always\"\n\t\t\t\tsrc={`${baseUrl}${svgUrl}`}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\n// export default props => {\n// \tconst { width, svgUrl, shadowUrl, key, colors, svgId, styleId } = props\n// \tconsole.log(colors)\n// \tlet svgElement = false\n// \tuseEffect(() => {\n// \t\t// if()\n// \t\t// ;`url(${colors[0]._id})`\n// \t}, [])\n\n// \tuseEffect(() => {\n// \t\t// if()\n// \t\tif (!svgElement || !colors) return\n// \t\tlet j = 0\n// \t\tfor (let i = 0; i < svgElement.children.length; i++) {\n// \t\t\tif (\n// \t\t\t\tsvgElement.children[i].tagName === \"g\" ||\n// \t\t\t\t(svgElement.children[i].tagName === \"path\" && j < colors.length)\n// \t\t\t) {\n// \t\t\t\tsvgElement.children[i].style.fill = colors[i].type\n// \t\t\t\t\t? `url(\"#${styleId}-${colors[j]._id}-${i}\")`\n// \t\t\t\t\t: colors[j].value\n// \t\t\t\tj++\n// \t\t\t}\n// \t\t}\n// \t}, [colors])\n\n// \treturn (\n// \t\t<div\n// \t\t\tstyle={{\n// \t\t\t\tposition: \"relative\",\n// \t\t\t\twidth: width\n// \t\t\t}}\n// \t\t>\n// \t\t\t<Image\n// \t\t\t\tsrc={baseUrl + shadowUrl}\n// \t\t\t\tsx={{\n// \t\t\t\t\twidth: width,\n// \t\t\t\t\tposition: \"absolute\",\n// \t\t\t\t\tleft: 0\n// \t\t\t\t}}\n// \t\t\t/>\n// \t\t\t<ReactSVG\n// \t\t\t\tstyle={{\n// \t\t\t\t\twidth: width,\n// \t\t\t\t\tminWidth: \"14px\"\n// \t\t\t\t}}\n// \t\t\t\tafterInjection={(error, svg) => {\n// \t\t\t\t\tif (error) {\n// \t\t\t\t\t\tconsole.error(error)\n// \t\t\t\t\t\treturn\n// \t\t\t\t\t}\n// \t\t\t\t\tif (colors && colors.length > 0 && colors[0]) {\n// \t\t\t\t\t\tlet j = 0\n// \t\t\t\t\t\tfor (let i = 0; i < svg.children.length; i++) {\n// \t\t\t\t\t\t\tif (\n// \t\t\t\t\t\t\t\tsvg.children[i].tagName === \"g\" ||\n// \t\t\t\t\t\t\t\tsvg.children[i].tagName === \"path\"\n// \t\t\t\t\t\t\t) {\n// \t\t\t\t\t\t\t\tconsole.log(colors)\n// \t\t\t\t\t\t\t\tsvg.children[i].style.fill = colors[j].type\n// \t\t\t\t\t\t\t\t\t? `url(\"#${styleId}-${colors[j]._id}-${j}\")`\n// \t\t\t\t\t\t\t\t\t: colors[j].value\n// \t\t\t\t\t\t\t\tj++\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t}}\n// \t\t\t\trenumerateIRIElements={false}\n// \t\t\t\tloading={() => {\n// \t\t\t\t\tconsole.log(\"loading\")\n// \t\t\t\t\treturn \"loading\"\n// \t\t\t\t}}\n// \t\t\t\tbeforeInjection={svg => {\n// \t\t\t\t\tsvg.setAttribute(\"id\", svgId || key)\n// \t\t\t\t\tlet svgDefs = document.createElementNS(\n// \t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n// \t\t\t\t\t\t\"defs\"\n// \t\t\t\t\t)\n// \t\t\t\t\tsvg.appendChild(svgDefs)\n// \t\t\t\t\tsvg.setAttribute(\"style\", `width: ${width}; height: 100%`)\n\n// \t\t\t\t\tfor (let i = 0; i < colors.length; i++) {\n// \t\t\t\t\t\tlet color = colors[i]\n// \t\t\t\t\t\tif (color.type) {\n// \t\t\t\t\t\t\tlet svgPattern = document.createElementNS(\n// \t\t\t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n// \t\t\t\t\t\t\t\t\"pattern\"\n// \t\t\t\t\t\t\t)\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"id\", `${styleId}-${color._id}-${i}`)\n// \t\t\t\t\t\t\t// editPatterns[color._id] = svgPattern\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"patternUnits\", \"userSpaceOnUse\")\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"patternContentUnits\", \"userSpaceOnUse\")\n// \t\t\t\t\t\t\tconst imgVals = { scale: 1 }\n\n// \t\t\t\t\t\t\tlet W =\n// \t\t\t\t\t\t\t\t((color.size * svg.width.baseVal.value) / 20) * imgVals.scale\n// \t\t\t\t\t\t\tlet H = (W * color.height) / color.width\n\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"width\", `${W}px`)\n// \t\t\t\t\t\t\tsvgPattern.setAttribute(\"height\", `${H}px`)\n\n// \t\t\t\t\t\t\tlet svgPatternImage = document.createElementNS(\n// \t\t\t\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n// \t\t\t\t\t\t\t\t\"image\"\n// \t\t\t\t\t\t\t)\n\n// \t\t\t\t\t\t\tsvgPatternImage.setAttribute(\"width\", `${W}px`)\n// \t\t\t\t\t\t\tsvgPatternImage.setAttribute(\"height\", `${H}px`)\n// \t\t\t\t\t\t\tsvgPatternImage.href.baseVal = `${baseUrl}${color.value}`\n\n// \t\t\t\t\t\t\t// editSvgs.svgDefs.appendChild(svgPattern)\n// \t\t\t\t\t\t\tsvgPattern.appendChild(svgPatternImage)\n// \t\t\t\t\t\t\tsvgDefs.appendChild(svgPattern)\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t}}\n// \t\t\t\tevalScripts=\"always\"\n// \t\t\t\tsrc={baseUrl + svgUrl}\n// \t\t\t/>\n// \t\t</div>\n// \t)\n// }\n"]},"metadata":{},"sourceType":"module"}