{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/paige/Desktop/workspace/mm-next/components/tables/user-table.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport { Flex, Text, Button } from \"rebass\";\nimport Table, { TableLine } from \"./base-table\";\nimport Modal from \"../modal\";\nimport request from \"../../utils/request\";\nexport default (function (props) {\n  var infos = [{\n    name: \"name\",\n    width: \"2/22\"\n  }, {\n    name: \"account\",\n    width: \"4/22\"\n  }, {\n    name: \"password\",\n    width: \"2/22\"\n  }];\n\n  var _useState = useState(false),\n      editUserInfo = _useState[0],\n      setUserEditInfo = _useState[1];\n\n  var handleEditUser = function handleEditUser(values) {\n    setUserEditInfo(_objectSpread({}, editUserInfo, {}, values));\n  };\n\n  var handleConfrim =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(\"/user/update\", _objectSpread({}, editUserInfo), \"post\");\n\n            case 2:\n              res = _context.sent;\n\n              if (res) {\n                console.log(\"res\", res);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleConfrim() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Flex, {\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    sx: {\n      cursor: \"pointer\",\n      height: \"100%\",\n      background: \"#FFF0E5\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(Flex, {\n    sx: {\n      padding: \"0 18px 18px 18px\"\n    },\n    alignItems: \"stretch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, __jsx(Table, {\n    sx: {\n      margin: \"0\",\n      marginRight: \"1px\",\n      width: \"100%\"\n    },\n    titles: [{\n      name: \"00\",\n      width: \"2/22\",\n      isHide: true\n    }, {\n      name: \"NAME\",\n      width: \"2/22\"\n    }, {\n      name: \"ACCOUNT\",\n      width: \"4/22\"\n    }, {\n      name: \"PASSWORD\",\n      width: \"2/22\"\n    }, {\n      name: \"AISLE\",\n      width: \"1/22\"\n    }, {\n      name: \"CREATION TIME\",\n      width: \"2/22\"\n    }, {\n      name: \"ORDER\",\n      width: \"2/22\"\n    }, {\n      name: \"OPERATING\",\n      width: \"2/22\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, props.userList.map(function (user, index) {\n    return __jsx(TableLine, {\n      haveEdit: true,\n      onEdit: function onEdit() {\n        setUserEditInfo({\n          name: user.name,\n          account: user.account,\n          password: user.password\n        });\n      },\n      haveDel: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(Text, {\n      style: {\n        padding: \"20px 0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, index), __jsx(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, user.name), __jsx(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, user.account), __jsx(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, user.password), __jsx(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, user.channels[0].code), __jsx(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, user.createTime), __jsx(Text, {\n      onClick: function onClick() {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"CLICK TO VIEW\"));\n  }))), editUserInfo ? __jsx(Modal, {\n    onClose: function onClose() {\n      setUserEditInfo(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, infos.map(function (info) {\n    return __jsx(Flex, {\n      justifyContent: \"space-between\",\n      pb: \"12px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(Text, {\n      mr: \"10px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, info.name.toUpperCase(), \":\"), __jsx(\"input\", {\n      value: editUserInfo[info.name],\n      onChange: function onChange(e) {\n        var values = {\n          _id: editUserInfo._id\n        };\n        values[info.name] = e.target.value;\n        handleEditUser(values);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  }), __jsx(Button, {\n    variant: \"primary\",\n    height: \"22px\",\n    width: \"68px\",\n    bg: \"#1B1B1B\",\n    color: \"#fff\",\n    padding: \"0\",\n    mt: \"10px\",\n    sx: {\n      borderRadius: 0,\n      fontSize: \"14px\",\n      cursor: \"pointer\"\n    },\n    onClick: handleConfrim,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"FINISH\")) : null);\n});","map":{"version":3,"sources":["/Users/paige/Desktop/workspace/mm-next/components/tables/user-table.js"],"names":["React","useState","Flex","Text","Button","Table","TableLine","Modal","request","props","infos","name","width","editUserInfo","setUserEditInfo","handleEditUser","values","handleConfrim","res","console","log","cursor","height","background","padding","margin","marginRight","isHide","userList","map","user","index","account","password","channels","code","createTime","info","toUpperCase","e","_id","target","value","borderRadius","fontSize"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,MAArB,QAAmC,QAAnC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,cAAjC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,gBAAe,UAAAC,KAAK,EAAI;AACvB,MAAMC,KAAK,GAAG,CACb;AAAEC,IAAAA,IAAI,EAAE,MAAR;AAAgBC,IAAAA,KAAK,EAAE;AAAvB,GADa,EAEb;AAAED,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAFa,EAGb;AAAED,IAAAA,IAAI,EAAE,UAAR;AAAoBC,IAAAA,KAAK,EAAE;AAA3B,GAHa,CAAd;;AADuB,kBAMiBX,QAAQ,CAAC,KAAD,CANzB;AAAA,MAMhBY,YANgB;AAAA,MAMFC,eANE;;AAOvB,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,MAAM,EAAI;AAChCF,IAAAA,eAAe,mBACXD,YADW,MAEXG,MAFW,EAAf;AAIA,GALD;;AAOA,MAAMC,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACHT,OAAO,CAAC,cAAD,oBAAsBK,YAAtB,GAAsC,MAAtC,CADJ;;AAAA;AACfK,cAAAA,GADe;;AAErB,kBAAIA,GAAJ,EAAS;AACRC,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB;AACA;;AAJoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbD,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAMA,SACC,MAAC,IAAD;AACC,IAAA,aAAa,EAAC,QADf;AAEC,IAAA,cAAc,EAAC,eAFhB;AAGC,IAAA,EAAE,EAAE;AACHI,MAAAA,MAAM,EAAE,SADL;AAEHC,MAAAA,MAAM,EAAE,MAFL;AAGHC,MAAAA,UAAU,EAAE;AAHT,KAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASC,MAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAV;AAA2C,IAAA,UAAU,EAAC,SAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,KAAD;AACC,IAAA,EAAE,EAAE;AAAEC,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,WAAW,EAAE,KAA5B;AAAmCd,MAAAA,KAAK,EAAE;AAA1C,KADL;AAEC,IAAA,MAAM,EAAE,CACP;AAAED,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,KAAK,EAAE,MAArB;AAA6Be,MAAAA,MAAM,EAAE;AAArC,KADO,EAEP;AAAEhB,MAAAA,IAAI,EAAE,MAAR;AAAgBC,MAAAA,KAAK,EAAE;AAAvB,KAFO,EAGP;AAAED,MAAAA,IAAI,EAAE,SAAR;AAAmBC,MAAAA,KAAK,EAAE;AAA1B,KAHO,EAIP;AAAED,MAAAA,IAAI,EAAE,UAAR;AAAoBC,MAAAA,KAAK,EAAE;AAA3B,KAJO,EAKP;AAAED,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE;AAAxB,KALO,EAOP;AAAED,MAAAA,IAAI,EAAE,eAAR;AAAyBC,MAAAA,KAAK,EAAE;AAAhC,KAPO,EAQP;AAAED,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE;AAAxB,KARO,EASP;AAAED,MAAAA,IAAI,EAAE,WAAR;AAAqBC,MAAAA,KAAK,EAAE;AAA5B,KATO,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAcEH,KAAK,CAACmB,QAAN,CAAeC,GAAf,CAAmB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACpC,WACC,MAAC,SAAD;AACC,MAAA,QAAQ,MADT;AAEC,MAAA,MAAM,EAAE,kBAAM;AACbjB,QAAAA,eAAe,CAAC;AACfH,UAAAA,IAAI,EAAEmB,IAAI,CAACnB,IADI;AAEfqB,UAAAA,OAAO,EAAEF,IAAI,CAACE,OAFC;AAGfC,UAAAA,QAAQ,EAAEH,IAAI,CAACG;AAHA,SAAD,CAAf;AAKA,OARF;AASC,MAAA,OAAO,MATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWC,MAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAET,QAAAA,OAAO,EAAE;AAAX,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqCO,KAArC,CAXD,EAYC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOD,IAAI,CAACnB,IAAZ,CAZD,EAcC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOmB,IAAI,CAACE,OAAZ,CAdD,EAeC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOF,IAAI,CAACG,QAAZ,CAfD,EAgBC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOH,IAAI,CAACI,QAAL,CAAc,CAAd,EAAiBC,IAAxB,CAhBD,EAiBC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOL,IAAI,CAACM,UAAZ,CAjBD,EAkBC,MAAC,IAAD;AAAM,MAAA,OAAO,EAAE,mBAAM,CAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAlBD,CADD;AAsBA,GAvBA,CAdF,CADD,CATD,EAkDEvB,YAAY,GACZ,MAAC,KAAD;AACC,IAAA,OAAO,EAAE,mBAAM;AACdC,MAAAA,eAAe,CAAC,KAAD,CAAf;AACA,KAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKEJ,KAAK,CAACmB,GAAN,CAAU,UAAAQ,IAAI;AAAA,WACd,MAAC,IAAD;AAAM,MAAA,cAAc,EAAC,eAArB;AAAqC,MAAA,EAAE,EAAC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,IAAD;AAAM,MAAA,EAAE,EAAC,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiBA,IAAI,CAAC1B,IAAL,CAAU2B,WAAV,EAAjB,MADD,EAEC;AACC,MAAA,KAAK,EAAEzB,YAAY,CAACwB,IAAI,CAAC1B,IAAN,CADpB;AAEC,MAAA,QAAQ,EAAE,kBAAA4B,CAAC,EAAI;AACd,YAAIvB,MAAM,GAAG;AAAEwB,UAAAA,GAAG,EAAE3B,YAAY,CAAC2B;AAApB,SAAb;AACAxB,QAAAA,MAAM,CAACqB,IAAI,CAAC1B,IAAN,CAAN,GAAoB4B,CAAC,CAACE,MAAF,CAASC,KAA7B;AACA3B,QAAAA,cAAc,CAACC,MAAD,CAAd;AACA,OANF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADc;AAAA,GAAd,CALF,EAkBC,MAAC,MAAD;AACC,IAAA,OAAO,EAAC,SADT;AAEC,IAAA,MAAM,EAAC,MAFR;AAGC,IAAA,KAAK,EAAC,MAHP;AAIC,IAAA,EAAE,EAAC,SAJJ;AAKC,IAAA,KAAK,EAAC,MALP;AAMC,IAAA,OAAO,EAAC,GANT;AAOC,IAAA,EAAE,EAAC,MAPJ;AAQC,IAAA,EAAE,EAAE;AACH2B,MAAAA,YAAY,EAAE,CADX;AAEHC,MAAAA,QAAQ,EAAE,MAFP;AAGHvB,MAAAA,MAAM,EAAE;AAHL,KARL;AAaC,IAAA,OAAO,EAAEJ,aAbV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBD,CADY,GAqCT,IAvFL,CADD;AA2FA,CA/GD","sourcesContent":["import React, { useState } from \"react\"\nimport { Flex, Text, Button } from \"rebass\"\nimport Table, { TableLine } from \"./base-table\"\nimport Modal from \"../modal\"\nimport request from \"../../utils/request\"\n\nexport default props => {\n\tconst infos = [\n\t\t{ name: \"name\", width: \"2/22\" },\n\t\t{ name: \"account\", width: \"4/22\" },\n\t\t{ name: \"password\", width: \"2/22\" }\n\t]\n\tconst [editUserInfo, setUserEditInfo] = useState(false)\n\tconst handleEditUser = values => {\n\t\tsetUserEditInfo({\n\t\t\t...editUserInfo,\n\t\t\t...values\n\t\t})\n\t}\n\n\tconst handleConfrim = async () => {\n\t\tconst res = await request(\"/user/update\", { ...editUserInfo }, \"post\")\n\t\tif (res) {\n\t\t\tconsole.log(\"res\", res)\n\t\t}\n\t}\n\treturn (\n\t\t<Flex\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\tsx={{\n\t\t\t\tcursor: \"pointer\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tbackground: \"#FFF0E5\"\n\t\t\t}}\n\t\t>\n\t\t\t<Flex sx={{ padding: \"0 18px 18px 18px\" }} alignItems=\"stretch\">\n\t\t\t\t<Table\n\t\t\t\t\tsx={{ margin: \"0\", marginRight: \"1px\", width: \"100%\" }}\n\t\t\t\t\ttitles={[\n\t\t\t\t\t\t{ name: \"00\", width: \"2/22\", isHide: true },\n\t\t\t\t\t\t{ name: \"NAME\", width: \"2/22\" },\n\t\t\t\t\t\t{ name: \"ACCOUNT\", width: \"4/22\" },\n\t\t\t\t\t\t{ name: \"PASSWORD\", width: \"2/22\" },\n\t\t\t\t\t\t{ name: \"AISLE\", width: \"1/22\" },\n\n\t\t\t\t\t\t{ name: \"CREATION TIME\", width: \"2/22\" },\n\t\t\t\t\t\t{ name: \"ORDER\", width: \"2/22\" },\n\t\t\t\t\t\t{ name: \"OPERATING\", width: \"2/22\" }\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t{props.userList.map((user, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TableLine\n\t\t\t\t\t\t\t\thaveEdit\n\t\t\t\t\t\t\t\tonEdit={() => {\n\t\t\t\t\t\t\t\t\tsetUserEditInfo({\n\t\t\t\t\t\t\t\t\t\tname: user.name,\n\t\t\t\t\t\t\t\t\t\taccount: user.account,\n\t\t\t\t\t\t\t\t\t\tpassword: user.password\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thaveDel\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Text style={{ padding: \"20px 0\" }}>{index}</Text>\n\t\t\t\t\t\t\t\t<Text>{user.name}</Text>\n\n\t\t\t\t\t\t\t\t<Text>{user.account}</Text>\n\t\t\t\t\t\t\t\t<Text>{user.password}</Text>\n\t\t\t\t\t\t\t\t<Text>{user.channels[0].code}</Text>\n\t\t\t\t\t\t\t\t<Text>{user.createTime}</Text>\n\t\t\t\t\t\t\t\t<Text onClick={() => {}}>CLICK TO VIEW</Text>\n\t\t\t\t\t\t\t</TableLine>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Table>\n\t\t\t</Flex>\n\t\t\t{editUserInfo ? (\n\t\t\t\t<Modal\n\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\tsetUserEditInfo(false)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{infos.map(info => (\n\t\t\t\t\t\t<Flex justifyContent=\"space-between\" pb=\"12px\">\n\t\t\t\t\t\t\t<Text mr=\"10px\">{info.name.toUpperCase()}:</Text>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tvalue={editUserInfo[info.name]}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tlet values = { _id: editUserInfo._id }\n\t\t\t\t\t\t\t\t\tvalues[info.name] = e.target.value\n\t\t\t\t\t\t\t\t\thandleEditUser(values)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t))}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\theight=\"22px\"\n\t\t\t\t\t\twidth=\"68px\"\n\t\t\t\t\t\tbg=\"#1B1B1B\"\n\t\t\t\t\t\tcolor=\"#fff\"\n\t\t\t\t\t\tpadding=\"0\"\n\t\t\t\t\t\tmt=\"10px\"\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={handleConfrim}\n\t\t\t\t\t>\n\t\t\t\t\t\tFINISH\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal>\n\t\t\t) : null}\n\t\t</Flex>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}