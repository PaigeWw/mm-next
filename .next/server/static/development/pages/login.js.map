{"version":3,"file":"static/development/pages/login.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/head.js","webpack:///./hooks/getUserInfo.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/promise.js","webpack:///./pages/login.js","webpack:///./utils/request.js","webpack:///external \"@rebass/forms\"","webpack:///external \"axios\"","webpack:///external \"core-js/library/fn/promise\"","webpack:///external \"next/head\"","webpack:///external \"next/router\"","webpack:///external \"react\"","webpack:///external \"rebass\"","webpack:///external \"styled-jsx/style\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","import Head from \"next/head\"\n\nfunction IndexPage() {\n\treturn (\n\t\t<Head>\n\t\t\t<title>MR MISS</title>\n\t\t\t<style global jsx>{`\n\t\t\t\tbody,\n\t\t\t\thtml,\n\t\t\t\t#__next {\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t\tfont-size: 0.14rem;\n\t\t\t\t}\n\t\t\t\tinput::-webkit-outer-spin-button,\n\t\t\t\tinput::-webkit-inner-spin-button {\n\t\t\t\t\t -webkit-appearance: none;\n\t\t\t\t}\n\t\t\t\tinput[type=\"number\"] {\n\t\t\t\t\t -moz-appearance: textfield;\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t\t<script\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: `function resizeFontSize() {\n                        const docEl = document.documentElement;\n                        const { clientWidth } = docEl;\n                        if (!clientWidth) return;\n                        const fs = 100 * (clientWidth / 1920);\n                        docEl.style.fontSize = fs + 'px';\n                    }\n                    window.onload = resizeFontSize\n                    window.onresize = resizeFontSize;`\n\t\t\t\t}}\n\t\t\t></script>\n\t\t</Head>\n\t)\n}\n\nexport default IndexPage\n","import React, { useState, useEffect } from \"react\"\nimport request from \"../utils/request\"\nimport Router from \"next/router\"\n\nfunction useUserInfo() {\n\tconst [info, setInfo] = useState({})\n\n\tuseEffect(() => {\n\t\t;(async function getData() {\n\t\t\tconst data = await request(\"user/getCurrentUser\")\n\t\t\tconsole.log(data, \"data\")\n\t\t\tif (data) {\n\t\t\t\tsetInfo(data)\n\t\t\t} else {\n\t\t\t\tRouter.push(\"/login\")\n\t\t\t}\n\t\t})()\n\t}, [])\n\n\treturn info\n}\n\nexport default useUserInfo\n","module.exports = require(\"core-js/library/fn/promise\");","import React, { useState, useEffect } from \"react\"\nimport { Flex, Text, Box, Button, Image } from \"rebass\"\nimport { Input } from \"@rebass/forms\"\nimport Head from \"../components/head\"\nimport request from \"../utils/request.js\"\nimport useUserInfo from \"../hooks/getUserInfo\"\nimport Router from \"next/router\"\n\nexport default () => {\n\tconst [modal, setMadal] = useState(0) // 0, 1, 2, 3\n\tconst [account, setAccount] = useState(\"chanpin2@miss.com\")\n\tconst [password, setPassword] = useState(\"123456\")\n\tconst handleLogin = async () => {\n\t\tconst req = await request(\n\t\t\t\"user/login\",\n\t\t\t{\n\t\t\t\taccount: \"chanpin3@miss.com\",\n\t\t\t\tpassword: \"123456\"\n\t\t\t},\n\t\t\t\"post\"\n\t\t)\n\t\tconsole.log(req)\n\t\tif (req) {\n\t\t\tRouter.push(\"/main\")\n\t\t}\n\t}\n\tconst userInfo = useUserInfo()\n\tconsole.log(userInfo, \"userInfo\")\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Head></Head>\n\t\t\t<Box height=\"100vh\">\n\t\t\t\t<Flex flexWrap=\"wrap\" height={[\"100%\", \"62.5vh\"]}>\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\twidth={[1, 722 / 1920]}\n\t\t\t\t\t\theight={[\"100%\", \"62.5vh\"]}\n\t\t\t\t\t\tbg=\"white\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\twidth=\"1.8rem\"\n\t\t\t\t\t\t\theight=\"0.53rem\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tmargin: \"10% 0 0 10%\",\n\t\t\t\t\t\t\t\tbackgroundImage: 'url(\"/1/LOGO.png\")',\n\t\t\t\t\t\t\t\tbackgroundRepeat: \"no-repeat\",\n\t\t\t\t\t\t\t\tbackgroundSize: \"100% 100%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box padding=\"0 0 10% 10%\">\n\t\t\t\t\t\t\t<Flex alignItems=\"center\" mb={\"2%\"}>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc=\"./1/user-icon.png\"\n\t\t\t\t\t\t\t\t\tmr={\"10px\"}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\twidth: \"0.18rem\",\n\t\t\t\t\t\t\t\t\t\tminWidth: \"14px\",\n\t\t\t\t\t\t\t\t\t\theight: \"0.18rem\",\n\t\t\t\t\t\t\t\t\t\tminHeight: \"14px\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Text fontSize=\"0.14rem\">ACCOUNT NUMBER</Text>\n\t\t\t\t\t\t\t</Flex>\n\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\twidth=\"3rem\"\n\t\t\t\t\t\t\t\theight=\"0.38rem\"\n\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\tvalue={account}\n\t\t\t\t\t\t\t\tonChange={e => setAccount(e.target.value)}\n\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Flex alignItems=\"center\" mt=\"4%\" mb={\"2%\"}>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc=\"./1/password-icon.png\"\n\t\t\t\t\t\t\t\t\tmr={\"10px\"}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\twidth: \"0.18rem\",\n\t\t\t\t\t\t\t\t\t\tminWidth: \"14px\",\n\t\t\t\t\t\t\t\t\t\theight: \"0.18rem\",\n\t\t\t\t\t\t\t\t\t\tminHeight: \"14px\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Text fontSize=\"0.14rem\">PASSWORD</Text>\n\t\t\t\t\t\t\t</Flex>\n\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\twidth=\"3rem\"\n\t\t\t\t\t\t\t\theight=\"0.38rem\"\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\twidth=\"1.34rem\"\n\t\t\t\t\t\t\t\theight=\"0.38rem\"\n\t\t\t\t\t\t\t\tbg=\"#000000\"\n\t\t\t\t\t\t\t\tcolor=\"#ffffff\"\n\t\t\t\t\t\t\t\tmt={\"5.8%\"}\n\t\t\t\t\t\t\t\tonClick={() => handleLogin()}\n\t\t\t\t\t\t\t\tpadding=\"0\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\t\t\t\t\tfontSize: \"0.14rem\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLOADING\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Box width={[1, 718 / 1920]} bg=\"gray\"></Box>\n\t\t\t\t\t<Box width={[1, 480 / 1920]} bg=\"black\"></Box>\n\t\t\t\t</Flex>\n\t\t\t\t<Flex flexWrap=\"wrap\" height={[0, \"37.5vh\"]}>\n\t\t\t\t\t<Box width={[1, 722 / 1920]} bg=\"#E74C39\"></Box>\n\t\t\t\t\t<Flex\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\twidth={[1, 718 / 1920]}\n\t\t\t\t\t\tbg=\"white\"\n\t\t\t\t\t\tfontSize=\"0.38rem\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Flex flexDirection=\"column\">\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\ttextDecoration: \"underline\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAT MRMISS WE LOVE . . .\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text>EVERY DESIGN</Text>\n\t\t\t\t\t\t\t<Text>EVERY PROJECT</Text>\n\t\t\t\t\t\t\t<Text>EVERY PRO</Text>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Box width={[1, 480 / 1920]} bg=\"#DCDCDC\"></Box>\n\t\t\t\t</Flex>\n\t\t\t</Box>\n\t\t</React.Fragment>\n\t)\n}\n","import axios from \"axios\"\n\nconst instance = axios.create({\n\tbaseURL: \"http://192.168.1.3:3000/api/\",\n\t// withCredentials: true,\n\ttimeout: 10000,\n\theaders: {\n\t\t\"content-type\": \"application/x-www-form-urlencoded\"\n\t}\n})\n\ninstance.interceptors.request.use(\n\tconfig => {\n\t\t/**\n\t\t * 请求时从本地读取token，并设置headers\n\t\t */\n\t\tconst token = localStorage.token\n\t\tconfig.headers.Authorization = `Bearer ${token}`\n\t\treturn config\n\t},\n\terror => Promise.reject(error)\n)\n\ninstance.interceptors.response.use(\n\tresponse => {\n\t\tconsole.log(\"response\", response)\n\t\tif (response.config.url.includes(\"user/login\")) {\n\t\t\tif (response.data && response.data.data) {\n\t\t\t\tlocalStorage.token = response.data.data.token\n\t\t\t}\n\t\t}\n\t\tif (!response.data.success) {\n\t\t\t//请求出错\n\t\t}\n\t\treturn response.data\n\t},\n\terror => {\n\t\tconst response = error.response || {}\n\t\tconsole.log(\"错误： \", response)\n\t\thandleErrorStatus(response.status, response.message)\n\t\treturn Promise.reject(response)\n\t}\n)\n\n// 错误提示\nconst handleErrorStatus = (status, message) => {\n\tconsole.log(status, message)\n}\n\nexport default (url = \"\", data = {}, method = \"get\", origin = false, api) => {\n\tvar postData = new FormData()\n\tfor (var prop in data) {\n\t\tpostData.append(prop, data[prop])\n\t}\n\tconst options = method.toLowerCase() === \"get\" ? { params: data } : postData\n\n\treturn instance[method](url, options)\n\t\t.then(res => {\n\t\t\treturn res.data\n\t\t})\n\t\t.catch(err => {\n\t\t\t// handleErrorStatus(code, err.message)\n\t\t\tconsole.log(\"err: \", err)\n\t\t\treturn false\n\t\t})\n}\n","module.exports = require(\"@rebass/forms\");","module.exports = require(\"axios\");","module.exports = require(\"core-js/library/fn/promise\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"rebass\");","module.exports = require(\"styled-jsx/style\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAmBA;AACA;;;;;;;;;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACtBA;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAFA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;;;;;;;;;;;;;;AClJA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAJA;AASA;AAEA;;;AAGA;AACA;AACA;AACA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACjEA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}